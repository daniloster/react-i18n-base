sudo: true
language: node_js
node_js:
  - 9.10.0
  - 8.10.0
cache:
  yarn: true
before_install:
  - chmod +x ./.travis/*.sh
  - './.travis/validate_last_commit_message.sh'
  - npm run tools
install:
  - yarn install
script:
  - echo "Running tests against $(node -v) ..."
  - yarn run validate
jobs:
  include:
    - stage: release
      node_js: 8.10.0
      script:
        - echo "Deploying to npm ..."
        - './.travis/publish.sh'
branches:
  only:
    - master
env:
  global:
    - secure: MOJ0p9a5L5m7kF+BrAZs4RUf00rxnITDCghPqUt4FH1sKrxgwoThb5E9eEvIkEqC/5pFNGO1VtW6oE46svRej/QhmwWB93O296qVatiE6Dnk42EYL2jI2KKzdWYu3PvcP+B/WShuQamhDJYTCQFugSOVISF5dJ/CeBowuQsS4pFhnSmhJnF2FGw9T8vkN1FuKQGlCJTQlUlwzGsXrBZCsjYesrxYvWxuHRDDpisyWzNm2g4pPu2fnfFAFr3Nk2QwMnnfTq36AHwSKslFiHOGTt93fJ1qV6hJ7aDEp7lJHvynskHcxhsPV5vmipDdXFZkjaCG74DeAwzXqVM7QcjBeDdw1NfRoTNeJF0IhK0u2qOQ2QRRYG1Y7OxbdcfWiZrzQB7+4d6F7dXoFrA3Uht66u0Mn2FG7Y4sfLnWrk/W4xTPZncEs2CDRYWe2nz5pmlfb3j3FAnS0qd2Uoia39HEIbE7mdITSca5RL4vskeMvTm7Izk2UHjLeQmi9EEGeLsVSlKlPEcZPgTye2df948cXZT1VDWdZOalqaBago5nuSZadJ2WfFiPLzzxchJKmpeLM0OFi9AUPX0/VZnAJuWVvhdUdXRK3Mmg6wMZc6z62tSzdYzszdj9pWnN2T2ETchKW0rfiG7WJ9AyMhYgVfxMTTUDqTJEyfeUzh0tfmY6uuo=
    - secure: TeS9wRQknDqdmR38Ov2X1+xdLpycTPw6fuFnVlmG8rZ5l+2Ik1Zb/CiTBKxGceXiKfP4oRX3fVzaWS94tIiL1U8wv0x3uFMLW0o1kFXyu4QI4Yv3WcOaI852hFJb94SngrPvmVjiiJYo5mPHL2fGgYD3TIG8Q2YjK+QEh6TyFkJs1dKWT6drZzhMZOJRVAmctXv4IXvDR5XjHjktkGDyRW5SWyaSeUmKPjGcrFqKsbGHsPQY27Si6epOjRjv0Q51rFSII2ZjIdyX0b1AQDX8AQTsxolItUHp+efiL9svtjEPfm38d7tUv5Q74N+bOisnIUh54Zs1HfEMOR8kU3vMU82dpjPux50tU95w7U3j525zU1lIKZaG5c1raSXU0/K77IscqlDrrSjHcpjR4DjqG33Ks8EZKEN2CuXt4tUpDO1pN16DWhaLvjxcuvaByFiR+IpyZQusrPFpy47YCM0nIw3igTvziz2HEi8MECAx6Aln9V2K+kTDyRE9Pbfw4GmRYH0k1I6j/Itk3qfPAgUCVq8+zPJFzlxosg1tnyoUTagGGBzrXYvgpClTsInyz9cdJ1bwbTEVsZ8cSMzy3FlcxPzAo6vWwAogBBwOhP0OQeFc4eUIy3jE+R+PiO3cOJTYhvNVpqZk9XRzdtPENM1+DM9B7dDZnoqZiKOAVK+XCeE=
